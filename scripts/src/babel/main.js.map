{"version":3,"sources":["../main.es6.js"],"names":["Ocelot","require","ocelot","Pjax","ocelotCallback","document","querySelector","scrollTop","header","navigation","pageTitle","pageSubTitle","pageTitleH1","createElement","pageSubTitlePara","bodyClassName","window","location","pathname","replace","fileName","substr","length","featuredImg","getElementById","body","className","titlePrefix","title","innerHTML","remove","outerHTML","fadeContent","onload","style","opacity","offset","clientHeight","navigator","userAgent","match","marginTop","scrollPoint","innerWidth","setAttribute","prePopCallback","all","timeout","callbackTimeout","callback","events","onscroll","onclick","clientWidth","scrollPage","onresize","scrollDuration","stopPoint","view","bottom","scrollHeight","offsetTop","scrollStep","scrollInterval","setInterval","clearInterval"],"mappings":"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","file":"main.js","sourcesContent":["/*\n *\n *  declantyson/2017/main\n *  Declan Tyson\n *  v0.1.2\n *  04/04/2017\n *\n */\n\n/* jshint esversion: 6 */\nconst Ocelot = require('ocelot-pjax');\nlet ocelot = new Ocelot.Pjax();\n\nconst ocelotCallback = () => {\n\n    document.querySelector('#total').scrollTop = 0;\n\n    let header = document.querySelector('header'),\n        navigation = document.querySelector('.navigation'),\n        pageTitle = document.querySelector('#ocelot-content h1'),\n        pageSubTitle = document.querySelector('#ocelot-content h6'),\n        pageTitleH1 = document.createElement('h1'),\n        pageSubTitlePara = document.createElement('p'),\n        bodyClassName = window.location.pathname.replace(/\\//g, ''),\n        fileName = window.location.pathname.substr(1, window.location.pathname.length - 1),\n        featuredImg = document.getElementById('featured');\n\n    if(bodyClassName === '') {\n        bodyClassName = 'homepage';\n        fileName = 'homepage';\n    }\n    document.body.className = bodyClassName;\n\n    let titlePrefix = \"Declan Tyson | \";\n    if(bodyClassName === 'homepage') {\n        titlePrefix = \"\";\n    }\n    document.title = titlePrefix + pageTitle.innerHTML;\n    pageTitleH1.innerHTML = pageTitle.innerHTML;\n    pageTitle.remove();\n\n    pageSubTitlePara.innerHTML = pageSubTitle.innerHTML;\n    pageSubTitle.remove();\n\n    header.className = '';\n    header.innerHTML = pageTitleH1.outerHTML + pageSubTitlePara.outerHTML;\n\n    ocelot.fadeContent(1);\n\n    featuredImg.onload = () => {\n        featuredImg.style.opacity = 1;\n\n        let offset = (header.clientHeight + navigation.clientHeight + 20);\n        if(navigator.userAgent.match(/Android/g)) offset += 55;\n        if(navigator.userAgent.match(/iPhone/g)) offset += 95;\n\n        header.className = 'in';\n        header.style.marginTop = \"calc(100vh - \" + offset + \"px)\";\n\n        let scrollPoint = document.querySelector('#total').clientHeight / 4;\n\n        if (window.location.pathname === \"/\") {\n\n        } else if (document.querySelector('#total').scrollTop <= scrollPoint) {\n            //scrollPage(500, scrollPoint);\n            document.querySelector('.drop').className = \"drop in\";\n        }\n    };\n\n    if(window.innerWidth < 480) {\n        fileName = \"mobile/\" + fileName;\n    }\n    featuredImg.setAttribute(\"src\", \"/assets/\" + fileName + \".png\");\n};\n\nocelot.prePopCallback = () => {\n    document.querySelector('header').className = 'out';\n    ocelot.fadeContent(0);\n    document.getElementById('featured').style.opacity = 0;\n};\n\nocelot.all({\n    timeout: 500,\n    callbackTimeout: 550,\n    callback: ocelotCallback\n});\n\nwindow.onload = () => {\n    ocelotCallback();\n    if(typeof ocelot.events[window.location.pathname] !== \"undefined\") ocelot.events[window.location.pathname]();\n};\n\ndocument.querySelector('#total').onscroll = () => {\n    let scrollPoint = document.querySelector('#total').clientHeight / 4;\n    if(document.querySelector('#total').scrollTop <= scrollPoint + 10) {\n        document.querySelector('.drop').className = \"drop in\";\n    } else {\n        document.querySelector('.drop').className = \"drop\";\n    }\n};\n\ndocument.querySelector('.drop').onclick = () => {\n    let scrollPoint = document.querySelector('#total').clientHeight / 4;\n    if(document.body.clientWidth < 640) {\n        scrollPoint = false;\n    }\n\n    scrollPage(500, scrollPoint);\n};\n\nwindow.onresize = () => {\n    let fileName = window.location.pathname.substr(1, window.location.pathname.length - 1);\n    if(fileName === '') fileName = 'homepage';\n\n    if(window.innerWidth < 480) {\n        fileName = \"mobile/\" + fileName;\n    }\n\n    document.querySelector('#featured').setAttribute(\"src\", \"/assets/\" + fileName + \".png\");\n};\n\nconst scrollPage = (scrollDuration, stopPoint = false) => {\n    let view = document.querySelector('#total'),\n        header = document.querySelector('header'),\n        bottom = view.scrollHeight - view.clientHeight;\n\n    if(!stopPoint) stopPoint = bottom < header.offsetTop-40 ? bottom : header.offsetTop-40;\n\n    let scrollStep = stopPoint / (scrollDuration / 15),\n        scrollInterval = setInterval(() => {\n            if (view.scrollTop < stopPoint) {\n                view.scrollTop += scrollStep;\n            } else {\n                clearInterval(scrollInterval);\n            }\n        },15);\n};\n"]}