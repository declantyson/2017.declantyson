{"version":3,"sources":["../main.es6.js"],"names":["Ocelot","require","ocelot","Pjax","ocelotCallback","header","document","querySelector","pageTitle","pageSubTitle","pageTitleH1","createElement","pageSubTitlePara","bodyClassName","window","location","pathname","replace","body","className","innerText","remove","innerHTML","outerHTML","fadeContent","setTimeout","scrollPage","scrollTop","prePopCallback","all","timeout","callbackTimeout","callback","onload","scrollDuration","view","bottom","scrollHeight","clientHeight","stopPoint","offsetTop","scrollStep","scrollInterval","setInterval","clearInterval","console","log"],"mappings":"AAAA;;;;;;;;;AASA;AACA,MAAMA,SAASC,QAAQ,aAAR,CAAf;AACA,IAAIC,SAAS,IAAIF,OAAOG,IAAX,EAAb;;AAEA,MAAMC,iBAAiB,MAAM;AACzB,QAAIC,SAASC,SAASC,aAAT,CAAuB,QAAvB,CAAb;AAAA,QACIC,YAAYF,SAASC,aAAT,CAAuB,oBAAvB,CADhB;AAAA,QAEIE,eAAeH,SAASC,aAAT,CAAuB,oBAAvB,CAFnB;AAAA,QAGIG,cAAcJ,SAASK,aAAT,CAAuB,IAAvB,CAHlB;AAAA,QAIIC,mBAAmBN,SAASK,aAAT,CAAuB,GAAvB,CAJvB;AAAA,QAKIE,gBAAgBC,OAAOC,QAAP,CAAgBC,QAAhB,CAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,CALpB;;AAOA,QAAGJ,kBAAkB,EAArB,EAAyBA,gBAAgB,UAAhB;AACzBP,aAASY,IAAT,CAAcC,SAAd,GAA0BN,aAA1B;;AAEAH,gBAAYU,SAAZ,GAAwBZ,UAAUY,SAAlC;AACAZ,cAAUa,MAAV;;AAEAT,qBAAiBU,SAAjB,GAA6Bb,aAAaW,SAA1C;AACAX,iBAAaY,MAAb;;AAEAhB,WAAOc,SAAP,GAAmB,EAAnB;AACAd,WAAOiB,SAAP,GAAmBZ,YAAYa,SAAZ,GAAwBX,iBAAiBW,SAA5D;;AAEArB,WAAOsB,WAAP,CAAmB,CAAnB;;AAEAC,eAAW,MAAM;AACbpB,eAAOc,SAAP,GAAmB,IAAnB;;AAEA,YAAGL,OAAOC,QAAP,CAAgBC,QAAhB,KAA6B,GAAhC,EAAqC;AACjCU,uBAAW,GAAX;AACH,SAFD,MAEO;AACHpB,qBAASC,aAAT,CAAuB,QAAvB,EAAiCoB,SAAjC,GAA6C,CAA7C;AACH;AACJ,KARD,EAQE,GARF;AASH,CA/BD;;AAiCAzB,OAAO0B,cAAP,GAAwB,MAAM;AAC1BtB,aAASC,aAAT,CAAuB,QAAvB,EAAiCY,SAAjC,GAA6C,KAA7C;AACAjB,WAAOsB,WAAP,CAAmB,CAAnB;AACH,CAHD;;AAKAtB,OAAO2B,GAAP,CAAW;AACPC,aAAS,GADF;AAEPC,qBAAiB,GAFV;AAGPC,cAAU5B;AAHH,CAAX;;AAMAU,OAAOmB,MAAP,GAAgB,MAAM;AAClB7B;AACH,CAFD;;AAIA,MAAMsB,aAAcQ,cAAD,IAAoB;AACnC,QAAIC,OAAO7B,SAASC,aAAT,CAAuB,QAAvB,CAAX;AAAA,QACIF,SAASC,SAASC,aAAT,CAAuB,QAAvB,CADb;AAAA,QAEI6B,SAASD,KAAKE,YAAL,GAAoBF,KAAKG,YAFtC;AAAA,QAGIC,YAAYH,SAAS/B,OAAOmC,SAAP,GAAiB,EAA1B,GAA+BJ,MAA/B,GAAwC/B,OAAOmC,SAAP,GAAiB,EAHzE;AAAA,QAIIC,aAAaF,aAAaL,iBAAiB,EAA9B,CAJjB;AAAA,QAKIQ,iBAAiBC,YAAY,MAAM;AAC/B,YAAIR,KAAKR,SAAL,GAAiBY,SAArB,EAAgC;AAC5BJ,iBAAKR,SAAL,IAAkBc,UAAlB;AACH,SAFD,MAEO;AACHG,0BAAcF,cAAd;AACH;AACJ,KANgB,EAMf,EANe,CALrB;;AAaAG,YAAQC,GAAR,CAAYL,UAAZ,EAAwB,CAACF,SAAD,EAAYL,cAAZ,EAA4B,EAA5B,CAAxB;AACH,CAfD","file":"main.js","sourcesContent":["/*\n *\n *  declantyson/2017/main\n *  Declan Tyson\n *  v0.0.2\n *  24/03/2017\n *\n */\n\n/* jshint esversion: 6 */\nconst Ocelot = require('ocelot-pjax');\nlet ocelot = new Ocelot.Pjax();\n\nconst ocelotCallback = () => {\n    let header = document.querySelector('header'),\n        pageTitle = document.querySelector('#ocelot-content h1'),\n        pageSubTitle = document.querySelector('#ocelot-content h6'),\n        pageTitleH1 = document.createElement('h1'),\n        pageSubTitlePara = document.createElement('p'),\n        bodyClassName = window.location.pathname.replace('/', '');\n\n    if(bodyClassName === '') bodyClassName = 'homepage';\n    document.body.className = bodyClassName;\n\n    pageTitleH1.innerText = pageTitle.innerText;\n    pageTitle.remove();\n\n    pageSubTitlePara.innerHTML = pageSubTitle.innerText;\n    pageSubTitle.remove();\n\n    header.className = '';\n    header.innerHTML = pageTitleH1.outerHTML + pageSubTitlePara.outerHTML;\n\n    ocelot.fadeContent(1);\n\n    setTimeout(() => {\n        header.className = 'in';\n\n        if(window.location.pathname !== \"/\") {\n            scrollPage(500);\n        } else {\n            document.querySelector('#total').scrollTop = 0;\n        }\n    },200);\n};\n\nocelot.prePopCallback = () => {\n    document.querySelector('header').className = 'out';\n    ocelot.fadeContent(0);\n};\n\nocelot.all({\n    timeout: 500,\n    callbackTimeout: 550,\n    callback: ocelotCallback\n});\n\nwindow.onload = () => {\n    ocelotCallback();\n};\n\nconst scrollPage = (scrollDuration) => {\n    let view = document.querySelector('#total'),\n        header = document.querySelector('header'),\n        bottom = view.scrollHeight - view.clientHeight,\n        stopPoint = bottom < header.offsetTop-40 ? bottom : header.offsetTop-40,\n        scrollStep = stopPoint / (scrollDuration / 15),\n        scrollInterval = setInterval(() => {\n            if (view.scrollTop < stopPoint) {\n                view.scrollTop += scrollStep;\n            } else {\n                clearInterval(scrollInterval);\n            }\n        },15);\n\n    console.log(scrollStep, [stopPoint, scrollDuration, 15]);\n};"]}